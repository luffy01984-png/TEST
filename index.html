<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Avantages Partenaires | Renault Trucks CSE Bourg-en-Bresse</title>
  <meta name="description"
    content="D√©couvrez les avantages et offres partenaires du CSE Renault Trucks Bourg-en-Bresse.">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#dc2626">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap');

    body {
      font-family: 'Poppins', sans-serif;
      background-color: #f8fafc;
    }

    /* Custom Scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: #f1f1f1;
    }

    ::-webkit-scrollbar-thumb {
      background: #dc2626;
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #b91c1c;
    }

    /* Hero Pattern */
    .hero-pattern {
      background-color: #dc2626;
      background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    }

    /* Category Accordion Transitions */
    .category-content-modern {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .category-header-modern {
      cursor: pointer;
      padding: 1.5rem;
      background: white;
      border-bottom: 1px solid #f3f4f6;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: all 0.3s ease;
    }

    .category-header-modern:hover {
      background-color: #fef2f2;
    }

    .category-header-modern.active {
      background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
      color: white;
    }

    /* Glassmorphism for Modal */
    .glass-modal {
      background: rgba(0, 0, 0, 0.85);
      backdrop-filter: blur(10px);
    }

    /* Animations */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animate-fade-in {
      animation: fadeIn 0.5s ease-out forwards;
    }
  </style>
</head>

<body class="text-gray-800 antialiased">

  <!-- Splash screen -->
  <div id="splash" class="fixed inset-0 bg-[#1a1a2e] z-[100] flex flex-col justify-center items-center hidden">
    <span class="text-white text-3xl font-bold mb-4">VOTRE CSE VOUS PROPOSE</span>
    <img src="https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/elecctra.webp" alt="Splash"
      class="w-[70vw] max-w-[500px] object-contain">
  </div>

  <!-- Modal -->
  <div id="imageModal" class="glass-modal fixed inset-0 z-[60] hidden justify-center items-center p-4">
    <button id="closeModalBtn"
      class="absolute top-4 right-4 bg-red-600 text-white px-6 py-2 rounded-full font-bold hover:bg-red-700 transition-transform hover:scale-105 shadow-lg z-50">
      ‚úï Fermer
    </button>
    <img id="modalImg" src="" alt="Partenaire"
      class="max-w-full max-h-[90vh] rounded-xl shadow-2xl object-contain animate-fade-in">
  </div>

  <!-- Scroll to top button -->
  <button id="scrollTopBtn"
    class="hidden fixed bottom-8 right-8 bg-red-600 text-white w-14 h-14 rounded-full justify-center items-center shadow-lg hover:bg-red-700 hover:-translate-y-1 transition-all z-40"
    aria-label="Retour en haut">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" />
    </svg>
  </button>

  <!-- HEADER -->
  <header class="sticky top-0 z-50 bg-white/90 backdrop-blur-md border-b border-red-100 shadow-sm">
    <div class="max-w-7xl mx-auto flex justify-between items-center px-4 py-3">
      <div class="flex items-center gap-4">
        <img src="https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/Header.webp"
          alt="Logo Renault Trucks" class="h-12 sm:h-16 rounded-lg shadow-sm">
        <div class="hidden sm:flex flex-col">
          <span class="text-lg font-bold text-gray-900 leading-tight">CSE Renault Trucks</span>
          <span class="text-xs font-bold text-red-600 uppercase tracking-widest">Bourg-en-Bresse</span>
        </div>
      </div>
      <nav class="flex items-center gap-2 sm:gap-6 text-sm font-medium">
        <a href="#categories" id="nav-partenaires"
          class="text-gray-600 hover:text-red-600 transition-colors px-3 py-2 rounded-lg hover:bg-red-50">Partenaires</a>
        <a href="#mentions" id="nav-mentions"
          class="text-gray-600 hover:text-red-600 transition-colors px-3 py-2 rounded-lg hover:bg-red-50">Infos</a>
      </nav>
    </div>
  </header>

  <!-- HERO SECTION -->
  <section class="hero-pattern relative text-white py-16 px-4 overflow-hidden">
    <div class="max-w-4xl mx-auto text-center relative z-10">
      <h1 class="text-4xl md:text-6xl font-extrabold mb-4 tracking-tight drop-shadow-md">
        Vos Avantages CSE
      </h1>
      <p class="text-xl md:text-2xl mb-8 text-red-100 font-light">
        D√©couvrez les offres exclusives n√©goci√©es pour vous.
      </p>

      <!-- PROMO BOX -->
      <div
        class="bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl p-6 max-w-2xl mx-auto transform hover:scale-[1.02] transition-transform duration-300">
        <h2 class="text-xl font-bold mb-4 flex items-center justify-center gap-2">
          <span>üéâ</span> Nouveaux Partenaires
        </h2>
        <div class="flex flex-wrap justify-center gap-3">
          <span class="bg-yellow-400 text-yellow-900 px-4 py-1.5 rounded-full font-bold text-sm shadow-sm">
            üçï 1001Pizzas : 8‚Ç¨50
          </span>
          <span class="bg-yellow-400 text-yellow-900 px-4 py-1.5 rounded-full font-bold text-sm shadow-sm">
            üëì Optique Lafayette : -7%
          </span>
        </div>
      </div>

      <p class="mt-6 text-sm opacity-75 italic">*Sur pr√©sentation du badge Renault Trucks</p>
    </div>

    <!-- Decorative background elements -->
    <div class="absolute top-0 left-0 w-full h-full bg-gradient-to-b from-transparent to-black/20 pointer-events-none">
    </div>
  </section>

  <!-- MAIN CONTENT -->
  <main class="max-w-7xl mx-auto px-4 py-12 space-y-16">

    <!-- CATEGORIES -->
    <section id="categories">
      <div class="text-center mb-10">
        <h2 class="text-3xl font-bold text-gray-900 mb-2">Cat√©gories d'Offres</h2>
        <div class="w-20 h-1 bg-red-600 mx-auto rounded-full"></div>
      </div>

      <div id="categories-list" class="space-y-4">
        <!-- Categories will be injected here by script.js -->
      </div>
    </section>

    <!-- GAME SECTION -->
    <section id="jeu"
      class="bg-white rounded-2xl shadow-lg border border-gray-100 p-6 md:p-8 text-center max-w-3xl mx-auto">
      <h2 class="text-2xl font-bold text-gray-800 mb-2">üéÆ Pause D√©tente</h2>
      <p class="text-gray-500 mb-6 text-sm">Aidez le camion √† livrer les pi√®ces ! (Espace pour sauter)</p>

      <div class="relative bg-gray-50 rounded-xl overflow-hidden border-2 border-gray-200 mb-4">
        <div class="absolute top-4 right-4 font-mono text-xl font-bold text-red-600 z-10" id="gameScore">Score: 0</div>
        <canvas id="gameCanvas" class="w-full block mx-auto"></canvas>
      </div>

      <div class="flex justify-center gap-4">
        <button id="startBtn"
          class="bg-red-600 text-white px-8 py-2.5 rounded-lg font-bold hover:bg-red-700 transition-colors shadow-md">
          Jouer
        </button>
        <button id="restartBtn"
          class="bg-gray-800 text-white px-8 py-2.5 rounded-lg font-bold hover:bg-gray-900 transition-colors shadow-md hidden">
          Rejouer
        </button>
      </div>
    </section>

    <!-- MENTIONS LEGALES -->
    <section id="mentions" class="bg-gray-50 rounded-2xl p-8 border border-gray-200">
      <h2 class="text-2xl font-bold text-center mb-8 text-gray-800">Informations & Contact</h2>

      <div class="grid md:grid-cols-2 gap-8">
        <div>
          <h3 class="font-bold text-lg mb-2 text-red-600">Contact CSE</h3>
          <p class="text-gray-600 mb-4">
            Pour toute demande, contactez l'√©quipe du CSE :<br>
            <a href="mailto:cserenaulttrucks@gmail.com"
              class="font-medium text-gray-900 hover:text-red-600 underline decoration-red-300 decoration-2 underline-offset-2">cserenaulttrucks@gmail.com</a>
          </p>

          <h3 class="font-bold text-lg mb-2 text-red-600">√âditeur</h3>
          <p class="text-gray-600">
            Renault Trucks CSE Bourg-en-Bresse<br>
            Secr√©taire : Arnaud Christian
          </p>
        </div>

        <div>
          <h3 class="font-bold text-lg mb-2 text-red-600">Cr√©dits</h3>
          <p class="text-gray-600 mb-4">
            Conception : <strong>Bouaraba Arab UEP8</strong><br>
            H√©bergement : GitHub Pages
          </p>

          <h3 class="font-bold text-lg mb-2 text-red-600">Donn√©es</h3>
          <p class="text-gray-600">
            Aucun cookie de tra√ßage. Aucune donn√©e personnelle collect√©e.
          </p>
        </div>
      </div>
    </section>

  </main>

  <!-- FOOTER -->
  <footer class="bg-gray-900 text-white py-8 text-center text-sm opacity-90">
    <p>&copy; 2024 CSE Renault Trucks Bourg-en-Bresse. Tous droits r√©serv√©s.</p>
  </footer>

  <!-- SCRIPTS -->
  <script>
    // ===== DONN√âES DES PARTENAIRES =====
    const partnersData = {
      resto: {
        title: 'üçΩÔ∏è Restaurants',
        partners: [
          { name: '1001 Pizzas', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/1001pizza.webp' },
          { name: 'AllPizza&Pasta Buffet', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/buffetpizza.webp' },
          { name: 'Au Bureau', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/AuBureau.webp' },
          { name: 'BollyFood', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Bollyfood.webp' },
          { name: 'COCO Bresil', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/CoCoBresil.webp' },
          { name: 'Food Truck Fermier', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/food%20truck%20fermier.webp' },
          { name: 'Le Loft', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/LeLoft.webp' },
          { name: 'Le Marrakech', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Lemarrakech1.webp' },
          { name: 'Leon', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Leon.webp' },
          { name: 'Pasta&Pizza', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Pasta%26Pizza.webp' },
          { name: "Rod's", url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Rods.webp' },
          { name: 'WokAna', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/WokAna.webp' }
        ]
      },
      gout: {
        title: 'ü•ñ Artisans du Go√ªt',
        partners: [
          { name: "Boucherie Andr√©", url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/boucherie_andr√©.webp' },
          { name: 'Caf√© Allombert', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/CafeAllombert.webp' },
          { name: 'Cerdon AOC Gabin Grobon', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Cerdon.webp' },
          { name: "Grain d'pain", url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Graindpainnew.webp' },
          { name: 'Janny fruits', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/janny%20fruits.webp' },
          { name: 'La Mie Caline', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/lamiecaline.webp' },
          { name: 'Les P√©pites Bressanes', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Les_pepites_bressanes_new.webp' },
          { name: 'LouPan', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Loupannew.webp' },
          { name: 'Monts et Terroir', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Monts%20et%20Terroir.webp' },
          { name: 'Mouret Traiteur', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Mouret.webp' },
          { name: 'Paella de Valencia', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/La-Paella.webp' },
          { name: 'Papilles Ain Solites', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Papilles_Ain_solites.webp' }
        ]
      },
      maison: {
        title: 'üè† Maison & Travaux',
        subcategories: [
          {
            name: 'Achat & Financement',
            partners: [
              { name: 'Himosty', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/hymosti.webp' },
              { name: 'La centrale du Financement', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/lacentralefinancenew.webp' },
              { name: 'MeilleurTaux', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Meilleur-taux.webp' }
            ]
          },
          {
            name: 'Equipement & Renovation',
            partners: [
              { name: 'A.F Energies', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/AfrEnergie.webp' },
              { name: 'Carrelage BRESSAN', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/CarrelageBressan.webp' },
              { name: 'Chaleur et bois', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/chaleur%20et%20bois.webp' },
              { name: 'Habitat Confort', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/habitat%20confort.webp' },
              { name: 'Home Elec', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Homeelec.webp' },
              { name: 'Pia Gazil', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/PiaGazil.webp' },
              { name: 'Sikkens Solutions', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/sikkens.webp' }
            ]
          },
          {
            name: 'Cuisine/Electromenager',
            partners: [
              { name: 'Conforama', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Conforama.webp' },
              { name: 'Cuisinella', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Cuisinella.webp' },
              { name: 'Ecocuisine', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/ecocuisine.webp' },
              { name: 'ID Plan', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Idplan.webp' },
              { name: 'Schmidt', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/schmidt.webp' }
            ]
          },
          {
            name: 'üåª Jardin & Ext√©rieur',
            partners: [
              { name: 'Arbres & CO', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Arbres_Co.webp' },
              { name: 'DSCV Frelons', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/DSCV.webp' },
              { name: 'Fred Multi Services', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/FredMultiServices.webp' },
              { name: 'IrriPiscine', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Irripiscine.webp' },
              { name: 'Les Coques de Bresse', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Les%20coqs%20de%20Bresse.webp' },
              { name: 'Parisot Motoculture', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/michel%20parisot.webp' }
            ]
          }
        ]
      },
      auto: {
        title: 'üöó Automobile',
        partners: [
          { name: '0‚Ç¨ PareBrise', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/images/0%E2%82%AC_PareBrise.webp' },
          { name: '123 Parebrise', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/123%20parebrise.webp' },
          { name: 'APC', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/apc.webp' },
          { name: 'Autosur', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Autosur_new.webp' },
          { name: 'CtEasy.com', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/CtEasy.com.webp' },
          { name: 'Renault', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/renault.webp' },
          { name: 'RJ Auto Services', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/RJAuto.webp' },
          { name: 'Speedy', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Speedynew.webp' },
          { name: 'Vulco', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Vulco.webp' }
        ]
      },
      vetement: {
        title: 'üëî Pr√™t-√†-Porter',
        partners: [
          { name: 'Bello', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Bello.webp' },
          { name: 'Dessous_Dessus', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Dessous_dessus.webp' },
          { name: 'Gambetta', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Gambetta.webp' }
        ]
      },
      beaute: {
        title: 'üíÖ Beaut√© / Bien-√™tre',
        partners: [
          { name: '15th Avenue Coiffure', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/15thAvenuenew.webp' },
          { name: 'Galerie102', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Gallerie%20102.webp' },
          { name: 'Glow Ritual', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/GlowRitual.webp' },
          { name: 'Le Salon des Hommes', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/LeSalondeshommes.webp' },
          { name: 'Renaissance Coiffure', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Renaissance.webp' }
        ]
      },
      culture: {
        title: 'üé≠ Culture / Loisirs',
        partners: [
          { name: 'D√©clic Ludik', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/declic-ludik.webp' },
          { name: 'D√©fi01', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Defi01.webp' },
          { name: 'La Tannerie', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/LaTannerie.webp' },
          { name: 'Librairie du Th√©√¢tre', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Librairie_papeterie.webp' },
          { name: 'Montbarbon', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Montbarbonnew.webp' }
        ]
      },
      quotidien: {
        title: 'üõçÔ∏è Quotidien',
        partners: [
          { name: 'A Fleur de pot', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/a%20fleur%20de%20pot.webp' },
          { name: "Ainter'Job", url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Ainterjob.webp' },
          { name: 'Ca Cr√©e Ca Cause', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Ca-cree-.webp' },
          { name: 'Concept_Optique', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/ConceptOptique.webp' },
          { name: 'Optique LAFAYETTE', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Optiquelafayette.webp' },
          { name: 'La Rek1que', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/la%20rek1ke.webp' },
          { name: 'Shiva', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Shivaa.webp' }
        ]
      },
      enfants: {
        title: 'üë∂ Autour de l\'Enfant',
        partners: [
          { name: 'KingJouet', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/KingJouet.webp' },
          { name: 'LudiLucky', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/ludylucky.webp' }
        ]
      },
      animaux: {
        title: 'üêæ Animaux',
        partners: [
          { name: 'Espace Passion Animalerie', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/espace_passon_new.webp' },
          { name: 'Food Animo', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/food%20animo.webp' }
        ]
      },
      voyages: {
        title: '‚úàÔ∏è H√¥tels / Voyages',
        partners: [
          { name: 'Greet Hotels', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Greethotel.webp' },
          { name: 'Le Griffon d\'Or', url: 'https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/Le-griffon.webp' }
        ]
      }
    };

    // ===== AFFICHER TOUTES LES CAT√âGORIES =====
    function renderAllCategories() {
      const categoriesList = document.getElementById('categories-list');
      if (!categoriesList) return;

      Object.keys(partnersData).forEach(categoryId => {
        const category = partnersData[categoryId];

        const section = document.createElement('div');
        section.className = 'category-section-modern group';

        const header = document.createElement('div');
        header.className = 'category-header-modern';
        header.innerHTML = `
          <h3 class="text-xl font-bold flex items-center gap-3">
            ${category.title}
          </h3>
          <span class="arrow transition-transform duration-300">‚ñ∂</span>
        `;

        const content = document.createElement('div');
        content.className = 'category-content-modern';

        if (category.subcategories) {
          // Cat√©gorie avec sous-cat√©gories
          const subcategorySection = document.createElement('div');
          subcategorySection.className = 'subcategory-section space-y-2';

          category.subcategories.forEach(subcat => {
            const subBtn = document.createElement('button');
            subBtn.className = 'subcategory-btn w-full text-left p-3 rounded-lg bg-gray-50 hover:bg-red-50 transition-colors flex justify-between items-center font-medium';
            subBtn.innerHTML = `<span>${subcat.name}</span><span class="transition-transform duration-300">‚ñ∂</span>`;

            const subContent = document.createElement('div');
            subContent.className = 'subcategory-content hidden';

            const grid = document.createElement('div');
            grid.className = 'partners-grid grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 mt-4';

            subcat.partners.forEach(partner => {
              const card = createPartnerCard(partner);
              grid.appendChild(card);
            });

            subContent.appendChild(grid);
            subcategorySection.appendChild(subBtn);
            subcategorySection.appendChild(subContent);

            subBtn.addEventListener('click', () => {
              const arrow = subBtn.querySelector('span:last-child');
              subContent.classList.toggle('hidden');
              subBtn.classList.toggle('active');

              if (!subContent.classList.contains('hidden')) {
                arrow.style.transform = 'rotate(90deg)';
              } else {
                arrow.style.transform = 'rotate(0deg)';
              }
            });
          });

          content.appendChild(subcategorySection);
        } else {
          // Cat√©gorie simple
          const grid = document.createElement('div');
          grid.className = 'partners-grid grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4';

          category.partners.forEach(partner => {
            const card = createPartnerCard(partner);
            grid.appendChild(card);
          });

          content.appendChild(grid);
        }

        // Gestion du clic sur le header
        header.addEventListener('click', () => {
          const arrow = header.querySelector('.arrow');
          content.classList.toggle('open');
          header.classList.toggle('active');

          if (content.classList.contains('open')) {
            arrow.style.transform = 'rotate(90deg)';
            content.style.maxHeight = content.scrollHeight + 'px';
          } else {
            arrow.style.transform = 'rotate(0deg)';
            content.style.maxHeight = '0';
          }
        });

        section.appendChild(header);
        section.appendChild(content);
        categoriesList.appendChild(section);
      });
    }

    function createPartnerCard(partner) {
      const card = document.createElement('div');
      card.className = 'partner-card-new bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition-all cursor-pointer border border-gray-100 hover:border-red-200 flex items-center justify-center text-center h-24';
      card.onclick = () => openModal(partner.url);
      card.innerHTML = `<h3 class="font-semibold text-gray-800 text-sm">${partner.name}</h3>`;
      return card;
    }

    // ===== MODAL =====
    const modal = document.getElementById('imageModal');
    const modalImg = document.getElementById('modalImg');
    const closeModalBtn = document.getElementById('closeModalBtn');

    function openModal(url) {
      if (!modal || !modalImg) return;
      modalImg.src = url;
      modal.classList.remove('hidden');
      modal.classList.add('flex');
      history.pushState({ modalOpen: true }, "");
    }

    function closeModal() {
      if (!modal) return;
      modal.classList.add('hidden');
      modal.classList.remove('flex');
      if (history.state && history.state.modalOpen) history.back();
    }

    if (modal) {
      modalImg.addEventListener('click', closeModal);
      if (closeModalBtn) closeModalBtn.addEventListener('click', closeModal);
      modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });
    }
    window.addEventListener('popstate', () => { if (modal && !modal.classList.contains('hidden')) closeModal(); });

    // ===== NAVIGATION =====
    const navPartenaires = document.getElementById('nav-partenaires');
    const navMentions = document.getElementById('nav-mentions');

    if (navPartenaires) {
      navPartenaires.addEventListener('click', (e) => {
        e.preventDefault();
        document.getElementById('categories').scrollIntoView({ behavior: 'smooth' });
      });
    }

    if (navMentions) {
      navMentions.addEventListener('click', (e) => {
        e.preventDefault();
        document.getElementById('mentions').scrollIntoView({ behavior: 'smooth' });
      });
    }

    // ===== SCROLL TO TOP =====
    const scrollTopBtn = document.getElementById('scrollTopBtn');
    if (scrollTopBtn) {
      window.addEventListener('scroll', () => {
        if (window.scrollY > 300) {
          scrollTopBtn.classList.remove('hidden');
          scrollTopBtn.classList.add('flex');
        } else {
          scrollTopBtn.classList.add('hidden');
          scrollTopBtn.classList.remove('flex');
        }
      });

      scrollTopBtn.addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    }

    // ===== JEU CAMION (STYLE DINO CHROME) =====
    let gameRunning = false;
    let gameScore = 0;
    let gameSpeed = 0;
    let gameFrame = 0;
    let animationId;

    function initGame() {
      const canvas = document.getElementById('gameCanvas');
      if (!canvas) return;

      const ctx = canvas.getContext('2d');
      // Responsive canvas
      const container = canvas.parentElement;
      canvas.width = Math.min(600, container.clientWidth - 40);
      canvas.height = 150;

      const GROUND_Y = 120;
      const TRUCK_X = 50;

      // Camion
      const truck = {
        x: TRUCK_X,
        y: GROUND_Y - 30,
        width: 40,
        height: 30,
        jumpVelocity: 0,
        isJumping: false,
        frame: 0
      };

      // Obstacles (cactus)
      const obstacles = [];
      let nextObstacleTime = 0;

      // Nuages
      const clouds = [
        { x: 200, y: 30, width: 30, height: 20 },
        { x: 400, y: 20, width: 40, height: 25 },
        { x: 600, y: 35, width: 35, height: 22 }
      ];

      // Sol qui d√©file
      let groundX = 0;

      function drawTruck() {
        ctx.fillStyle = '#dc2626';
        // Corps du camion
        ctx.fillRect(truck.x, truck.y, truck.width, truck.height);
        // Cabine
        ctx.fillStyle = '#991b1b';
        ctx.fillRect(truck.x + 25, truck.y - 15, 15, 15);
        // Roues
        ctx.fillStyle = '#1f2937';
        ctx.beginPath();
        ctx.arc(truck.x + 10, truck.y + truck.height, 6, 0, Math.PI * 2);
        ctx.fill();
        ctx.beginPath();
        ctx.arc(truck.x + truck.width - 10, truck.y + truck.height, 6, 0, Math.PI * 2);
        ctx.fill();

        // Animation de course (l√©g√®re oscillation)
        if (!truck.isJumping) {
          truck.frame++;
          if (truck.frame % 10 < 5) {
            truck.y = GROUND_Y - 30;
          } else {
            truck.y = GROUND_Y - 29;
          }
        }
      }

      function drawObstacle(obs) {
        ctx.fillStyle = '#22c55e';
        // Cactus simple
        ctx.fillRect(obs.x, obs.y, obs.width, obs.height);
        // Petites branches
        ctx.fillRect(obs.x - 5, obs.y + 10, 8, 12);
        ctx.fillRect(obs.x + obs.width - 3, obs.y + 15, 8, 10);
      }

      function drawCloud(cloud) {
        ctx.fillStyle = '#e5e7eb';
        ctx.beginPath();
        ctx.arc(cloud.x, cloud.y, cloud.width / 2, 0, Math.PI * 2);
        ctx.arc(cloud.x + cloud.width / 3, cloud.y, cloud.height / 2, 0, Math.PI * 2);
        ctx.arc(cloud.x + cloud.width / 1.5, cloud.y, cloud.width / 2.5, 0, Math.PI * 2);
        ctx.fill();
      }

      function drawGround() {
        // Sol
        ctx.fillStyle = '#f3f4f6';
        ctx.fillRect(0, GROUND_Y, canvas.width, canvas.height - GROUND_Y);

        // Lignes qui d√©filent
        ctx.strokeStyle = '#d1d5db';
        ctx.lineWidth = 2;
        ctx.setLineDash([20, 20]);
        ctx.beginPath();
        ctx.moveTo(groundX % 40, GROUND_Y + 5);
        ctx.lineTo(canvas.width + (groundX % 40), GROUND_Y + 5);
        ctx.stroke();
        ctx.setLineDash([]);
      }

      function update() {
        if (!gameRunning) return;

        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Mise √† jour de la vitesse
        gameSpeed += 0.001;
        gameFrame++;

        // Sol qui d√©file
        groundX -= 5 + gameSpeed * 10;
        drawGround();

        // Nuages
        clouds.forEach(cloud => {
          cloud.x -= 1 + gameSpeed * 2;
          if (cloud.x + cloud.width < 0) {
            cloud.x = canvas.width + Math.random() * 100;
            cloud.y = 20 + Math.random() * 30;
          }
          drawCloud(cloud);
        });

        // Physique du camion
        if (truck.isJumping) {
          truck.y += truck.jumpVelocity;
          truck.jumpVelocity += 0.8; // Gravit√©

          if (truck.y >= GROUND_Y - 30) {
            truck.y = GROUND_Y - 30;
            truck.isJumping = false;
            truck.jumpVelocity = 0;
          }
        }

        drawTruck();

        // G√©n√©ration d'obstacles
        nextObstacleTime--;
        if (nextObstacleTime <= 0) {
          const minTime = Math.max(60 - Math.floor(gameSpeed * 50), 30);
          const maxTime = Math.max(120 - Math.floor(gameSpeed * 30), 60);
          nextObstacleTime = Math.floor(Math.random() * (maxTime - minTime) + minTime);

          const obstacleHeight = 20 + Math.random() * 25;
          obstacles.push({
            x: canvas.width,
            y: GROUND_Y - obstacleHeight,
            width: 12 + Math.random() * 8,
            height: obstacleHeight
          });
        }

        // Mise √† jour des obstacles
        for (let i = obstacles.length - 1; i >= 0; i--) {
          const obs = obstacles[i];
          obs.x -= 5 + gameSpeed * 10;

          drawObstacle(obs);

          // Collision
          if (truck.x + truck.width > obs.x &&
            truck.x < obs.x + obs.width &&
            truck.y + truck.height > obs.y &&
            truck.y < obs.y + obs.height) {
            gameOver();
            return;
          }

          // Supprimer obstacle hors √©cran
          if (obs.x + obs.width < 0) {
            obstacles.splice(i, 1);
          }
        }

        // Score qui augmente avec le temps (comme Dino)
        if (gameFrame % 5 === 0) {
          gameScore++;
          document.getElementById('gameScore').textContent = `Score: ${gameScore}`;
        }

        animationId = requestAnimationFrame(update);
      }

      function jump() {
        if (!truck.isJumping && gameRunning) {
          truck.isJumping = true;
          truck.jumpVelocity = -12;
        }
      }

      function startGame() {
        if (gameRunning) return;
        gameRunning = true;
        gameScore = 0;
        gameSpeed = 0;
        gameFrame = 0;
        obstacles.length = 0;
        nextObstacleTime = 60;
        truck.y = GROUND_Y - 30;
        truck.isJumping = false;
        truck.jumpVelocity = 0;
        groundX = 0;

        // R√©initialiser les nuages
        clouds[0] = { x: 200, y: 30, width: 30, height: 20 };
        clouds[1] = { x: 400, y: 20, width: 40, height: 25 };
        clouds[2] = { x: 600, y: 35, width: 35, height: 22 };

        document.getElementById('gameScore').textContent = 'Score: 0';
        document.getElementById('startBtn').style.display = 'none';
        document.getElementById('restartBtn').style.display = 'none';

        update();
      }

      function gameOver() {
        gameRunning = false;
        cancelAnimationFrame(animationId);
        document.getElementById('restartBtn').style.display = 'inline-block';

        ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = '#fff';
        ctx.font = 'bold 24px Poppins';
        ctx.textAlign = 'center';
        ctx.fillText('GAME OVER', canvas.width / 2, canvas.height / 2 - 10);
        ctx.font = '18px Poppins';
        ctx.fillText(`Score: ${gameScore}`, canvas.width / 2, canvas.height / 2 + 20);
      }

      // Contr√¥les
      function handleJump(e) {
        if (e.type === 'keydown' && e.code !== 'Space' && e.code !== 'ArrowUp') return;
        if (e.type === 'click' || e.type === 'touchstart') {
          // prevent default only for touch/click on canvas to avoid scrolling
          if (e.target === canvas) e.preventDefault();
        }

        if (!gameRunning) {
          startGame();
        } else {
          jump();
        }
      }

      // √âcran de d√©marrage
      function drawStartScreen() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        drawGround();
        clouds.forEach(c => drawCloud(c));
        drawTruck();
        ctx.fillStyle = 'rgba(0, 0, 0, 0.3)';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = '#6b7280';
        ctx.font = '16px Poppins';
        ctx.textAlign = 'center';
        ctx.fillText('Appuyez pour commencer', canvas.width / 2, canvas.height / 2);
      }

      // Afficher l'√©cran de d√©marrage
      drawStartScreen();

      canvas.addEventListener('click', handleJump);
      canvas.addEventListener('touchstart', handleJump);
      document.addEventListener('keydown', handleJump);

      // Boutons
      const startBtn = document.getElementById('startBtn');
      const restartBtn = document.getElementById('restartBtn');

      if (startBtn) startBtn.addEventListener('click', startGame);
      if (restartBtn) restartBtn.addEventListener('click', startGame);
    }

    // ===== INITIALIZATION =====
    document.addEventListener('DOMContentLoaded', () => {
      // Splash Screen
      const splash = document.getElementById('splash');
      const SPLASH_ENABLED = false; // Set to true to enable

      if (splash) {
        if (SPLASH_ENABLED) {
          splash.classList.remove('hidden');
          splash.classList.add('flex');
          setTimeout(() => {
            splash.style.opacity = '0';
            splash.style.transition = 'opacity 0.8s ease';
            setTimeout(() => {
              splash.classList.add('hidden');
              splash.classList.remove('flex');
            }, 800);
          }, 3000);
        } else {
          splash.classList.add('hidden');
        }
      }

      renderAllCategories();

      // Init game
      initGame();

      // Service Worker
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/Renault-trucks-CE/service-worker.js')
          .then(() => console.log('Service Worker enregistr√© ‚úî'))
          .catch(err => console.error('SW: √âchec ‚ùå', err));
      }
    });
  </script>
</body>

</html>
