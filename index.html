<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Avantages CSE | Renault Trucks Bourg-en-Bresse</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background: #f8fafc;
            overflow-x: hidden;
        }

        /* Header sticky optimis√© mobile */
        .header-sticky {
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        /* Navigation mobile friendly */
        .nav-item {
            position: relative;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            transition: all 0.3s ease;
        }

        .nav-item.active::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 50%;
            transform: translateX(-50%);
            width: 6px;
            height: 6px;
            background: #dc2626;
            border-radius: 50%;
        }

        /* Hero responsive */
        .hero-gradient {
            background: linear-gradient(135deg, rgba(220, 38, 38, 0.9) 0%, rgba(185, 28, 28, 0.9) 100%);
        }

        /* Grid responsive am√©lior√©e */
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
            padding: 1rem;
        }

        /* Cartes tactiles optimis√©es */
        .category-card {
            position: relative;
            border-radius: 1rem;
            overflow: hidden;
            background: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            -webkit-user-select: none;
            user-select: none;
        }

        .category-card:active {
            transform: scale(0.98);
        }

        .category-card img {
            width: 100%;
            height: 140px;
            object-fit: cover;
        }

        /* Partenaires liste mobile */
        .partners-list {
            max-height: 0;
            overflow: hidden;
            transition: all 0.4s ease;
        }

        .partners-list.active {
            max-height: 500px;
        }

        .partner-item {
            display: flex;
            align-items: center;
            padding: 0.875rem 1rem;
            margin: 0.5rem 0;
            background: #f8fafc;
            border-radius: 0.75rem;
            border: 1px solid #e2e8f0;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .partner-item:active {
            background: #e2e8f0;
            transform: translateY(1px);
        }

        .partner-item i {
            margin-right: 0.75rem;
            color: #dc2626;
            font-size: 1.1rem;
        }

        /* Modal mobile optimis√© */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.9);
            z-index: 2000;
            display: none;
            padding: 1rem;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        .modal-overlay.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            position: relative;
            max-width: 100%;
            max-height: 90vh;
            border-radius: 1rem;
            overflow: hidden;
        }

        .modal-content img {
            width: 100%;
            height: auto;
            max-height: 70vh;
            object-fit: contain;
        }

        .close-modal {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: #dc2626;
            color: white;
            border: none;
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            cursor: pointer;
            z-index: 2001;
        }

        /* Bottom navigation pour mobile */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 1px solid #e2e8f0;
            padding: 0.5rem;
            z-index: 1000;
            display: none;
        }

        .nav-button {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0.5rem;
            border: none;
            background: none;
            font-size: 0.75rem;
            color: #64748b;
            transition: all 0.2s ease;
        }

        .nav-button.active {
            color: #dc2626;
        }

        .nav-button i {
            font-size: 1.25rem;
            margin-bottom: 0.25rem;
        }

        /* Loading states */
        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }

        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        /* Am√©liorations sp√©cifiques mobile */
        @media (max-width: 768px) {
            .container-mobile {
                padding: 0 1rem;
            }
            
            .hero-title {
                font-size: 1.75rem;
                line-height: 1.2;
            }
            
            .category-card img {
                height: 120px;
            }
            
            .partner-item {
                padding: 0.75rem;
                font-size: 0.9rem;
            }
        }

        @media (max-width: 480px) {
            .categories-grid {
                grid-template-columns: 1fr;
                gap: 0.75rem;
            }
            
            .hero-title {
                font-size: 1.5rem;
            }
        }

        /* Safe areas pour iPhone X+ */
        @supports(padding: max(0px)) {
            .safe-bottom {
                padding-bottom: max(1rem, env(safe-area-inset-bottom));
            }
            
            .safe-top {
                padding-top: max(0.5rem, env(safe-area-inset-top));
            }
        }
    </style>
</head>
<body class="min-h-screen bg-gray-50">
    <!-- Header -->
    <header class="header-sticky bg-white/95 shadow-sm safe-top">
        <div class="container-mobile">
            <div class="flex items-center justify-between py-3">
                <div class="flex items-center space-x-3">
                    <img src="https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/1761728183491.jpg" 
                         alt="Logo Renault Trucks" 
                         class="w-12 h-12 rounded-lg object-cover">
                    <div>
                        <h1 class="font-bold text-gray-900 text-sm">CSE Renault Trucks</h1>
                        <p class="text-xs text-gray-600">Bourg-en-Bresse</p>
                    </div>
                </div>
                
                <button class="p-2 rounded-lg bg-gray-100" onclick="toggleSearch()">
                    <i class="fas fa-search text-gray-600"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Search Bar -->
    <div id="searchBar" class="hidden bg-white border-b border-gray-200 p-4">
        <div class="relative">
            <input type="text" 
                   placeholder="Rechercher un partenaire..." 
                   class="w-full p-3 pl-10 bg-gray-100 rounded-lg border-none focus:ring-2 focus:ring-red-500">
            <i class="fas fa-search absolute left-3 top-3.5 text-gray-400"></i>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero-gradient text-white">
        <div class="container-mobile py-12">
            <div class="text-center">
                <h1 class="hero-title font-bold mb-3">
                    Vos Avantages <span class="text-yellow-300">CSE</span>
                </h1>
                <p class="text-lg opacity-90 mb-6">
                    D√©couvrez toutes les offres exclusives n√©goci√©es pour vous
                </p>
                <div class="bg-white/10 rounded-xl p-4 text-sm">
                    <p>üìç Sur pr√©sentation du badge CSE</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Categories Navigation -->
    <nav class="bg-white border-b border-gray-200 overflow-x-auto">
        <div class="flex space-x-1 p-4">
            <button class="nav-item active whitespace-nowrap" data-category="all">
                <i class="fas fa-grid-2"></i>
                Tous
            </button>
            <button class="nav-item whitespace-nowrap" data-category="resto">
                <i class="fas fa-utensils"></i>
                Restaurants
            </button>
            <button class="nav-item whitespace-nowrap" data-category="gout">
                <i class="fas fa-bread-slice"></i>
                Artisans
            </button>
            <button class="nav-item whitespace-nowrap" data-category="auto">
                <i class="fas fa-car"></i>
                Auto
            </button>
            <!-- Ajouter les autres cat√©gories... -->
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container-mobile py-6 safe-bottom">
        <!-- Restaurants -->
        <section class="category-section" data-category="resto">
            <h2 class="text-xl font-bold mb-4 flex items-center">
                <i class="fas fa-utensils text-red-600 mr-2"></i>
                Restaurants
            </h2>
            <div class="categories-grid">
                <div class="category-card" onclick="togglePartners('resto-partners')">
                    <img src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400" alt="Restaurants">
                    <div class="p-4">
                        <h3 class="font-semibold text-gray-900">üçΩÔ∏è Restaurants</h3>
                        <p class="text-sm text-gray-600 mt-1">2 partenaires</p>
                    </div>
                </div>
            </div>
            
            <div id="resto-partners" class="partners-list">
                <div class="partner-item" onclick="openModal('https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/images/food%20truck%20fermier.jpg')">
                    <i class="fas fa-store"></i>
                    Food Truck Fermier
                </div>
                <div class="partner-item" onclick="openModal('https://raw.githubusercontent.com/luffy01984-png/Renault-trucks-CE/main/assets/assets/images/le%20loft%20pizza.jpg')">
                    <i class="fas fa-pizza-slice"></i>
                    Le Loft Pizza
                </div>
            </div>
        </section>

        <!-- Artisans du Go√ªt -->
        <section class="category-section mt-8" data-category="gout">
            <h2 class="text-xl font-bold mb-4 flex items-center">
                <i class="fas fa-bread-slice text-red-600 mr-2"></i>
                Artisans du Go√ªt
            </h2>
            <div class="categories-grid">
                <div class="category-card" onclick="togglePartners('gout-partners')">
                    <img src="https://images.unsplash.com/photo-1510626176961-4b57d4fbad03?w=400" alt="Artisans">
                    <div class="p-4">
                        <h3 class="font-semibold text-gray-900">ü•ñ Artisans du Go√ªt</h3>
                        <p class="text-sm text-gray-600 mt-1">8 partenaires</p>
                    </div>
                </div>
            </div>
            
            <div id="gout-partners" class="partners-list">
                <!-- Liste des partenaires artisans... -->
            </div>
        </section>

        <!-- Ajouter les autres sections de la m√™me mani√®re... -->
    </main>

    <!-- Modal -->
    <div id="imageModal" class="modal-overlay">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal()">
                <i class="fas fa-times"></i>
            </button>
            <img id="modalImage" src="" alt="Offre partenaire">
        </div>
    </div>

    <!-- Bottom Navigation (Mobile) -->
    <nav class="bottom-nav md:hidden">
        <div class="flex justify-around">
            <button class="nav-button active">
                <i class="fas fa-home"></i>
                Accueil
            </button>
            <button class="nav-button">
                <i class="fas fa-search"></i>
                Rechercher
            </button>
            <button class="nav-button">
                <i class="fas fa-user"></i>
                Compte
            </button>
        </div>
    </nav>

    <script>
        // Navigation mobile
        function toggleSearch() {
            const searchBar = document.getElementById('searchBar');
            searchBar.classList.toggle('hidden');
        }

        // Gestion des cat√©gories
        function togglePartners(id) {
            const partnersList = document.getElementById(id);
            partnersList.classList.toggle('active');
        }

        // Modal functions
        function openModal(imageUrl) {
            const modal = document.getElementById('imageModal');
            const modalImage = document.getElementById('modalImage');
            modalImage.src = imageUrl;
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            const modal = document.getElementById('imageModal');
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Close modal on overlay click
        document.getElementById('imageModal').addEventListener('click', function(e) {
            if (e.target === this) closeModal();
        });

        // Navigation categories
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function() {
                document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                this.classList.add('active');
                
                const category = this.dataset.category;
                // Filtrer les sections par cat√©gorie
            });
        });

        // Afficher la bottom nav sur mobile
        if (window.innerWidth <= 768) {
            document.querySelector('.bottom-nav').style.display = 'flex';
        }

        // Optimisation tactile
        document.addEventListener('touchstart', function() {}, { passive: true });

        // Gestion du clavier virtuel
        window.addEventListener('resize', function() {
            if (window.innerHeight < 500) {
                document.body.classList.add('keyboard-open');
            } else {
                document.body.classList.remove('keyboard-open');
            }
        });
    </script>
</body>
</html>
